---
import { slugify } from '../utils';
import type { CollectionEntry } from 'astro:content';

type BlogPost = CollectionEntry<'blog'>;
const { post }: { post: BlogPost } = Astro.props;
---

<div class="border-b border-zinc-700 py-2 transition-colors duration-300 hover:bg-blue-200 rounded">
  <div
    class="
      grid
      items-center        /* Align items on the same vertical line */
      gap-2
      grid-cols-2         /* Mobile: 2 columns => tags | title */
      md:grid-cols-3      /* Desktop: 3 columns => tags | title | description */
      md:gap-4
    "
  >
    <!-- 1) TAGS (left column in mobile, col 1 in desktop) -->
    <div class="flex flex-wrap gap-2">
      {post.data.tags?.map((tag: string) => (
        <a
          class="
            border-zinc-300
            rounded-2xl
            text-[14px]
            text-zinc-700
            no-underline
            px-2 py-0.5
            transition-all
            duration-700
            hover:border-zinc-700
          "
          href={`/tags/${slugify(tag)}`}
        >
          {tag}
        </a>
      ))}
    </div>

    <!-- 2) TITLE (right column in mobile, col 2 in desktop) -->
    <div>
      <!-- Remove any extra margin (like mt-2) to help alignment -->
      <h3 class="text-[24px] text-[#0000FF] font-medium normal-case">
        <a href={`/${post.slug}/`}>
          {post.data.title}
        </a>
      </h3>
    </div>

    <!-- 3) DESCRIPTION (new row on mobile, third column on desktop) -->
    <!-- col-span-2 on mobile so it spans both columns, col-span-1 on desktop -->
    <div class="col-span-2 md:col-span-1">
      <!-- Remove large bottom margin to reduce spacing -->
      <p class="text-[14px] line-clamp-2 normal-case">
        {post.data.description || post.data.excerpt || 'No preview available...'}
      </p>
    </div>
  </div>
</div>
